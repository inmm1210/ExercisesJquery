<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="./jquery-form-validation.css" type="text/css" />

 

    <title>Form Validation</title>
</head>

<body>
<ul id="errores"></ul>
    <form id="form1" action="/my-handling-form-page" method="post">
        <ul>
         <li>
           <label for="name">Name:</label>
           <input type="text" id="name" name="user_name">
           

         </li>
         <li>
           <label for="mail">E-mail:</label>
           <input type="email" id="mail" name="user_email">
         

         </li>
         <li>
           <label for="msg">Message:</label>
           <textarea id="msg" name="user_message"></textarea>
         </li>
         <li class="button">
             <button id='btn-1' type="submit">Send your Message</button>
         </li>
        </ul>
       </form>
       


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script>
            $(() => {
                let errores = [];
                $('#btn-1').click((event)=>{
                /*if(!ValidaCampos())
                {
                    event.preventDefault();
                }
                else{
                    alert("Tus datos han sido enviados");
                    event.preventDefault();
                }*/
                ValidaCampos();
                event.preventDefault();

                });
                

                function ValidaCampos(){
                    //let bandera = true;
                    errores=[];
                    $("#form1 input, #form1 textarea").each(function(){
                        if(!$(this).val())
                        {
                            agregaError($(this).attr("name"));
                        }
                        
                    });
                    $(`#errores`).empty();
                    errores.forEach((errorText)=>{
                        let newError = `<li>${errorText}</li>`;
                        $("#errores").append(newError);
                    });
                    if(errores.length==0)
                        alert("Mensaje Enviado");

                    
                  
                    /*if(!$("#name").val())
                    {
                        alert("Faltan por llenar  nombre");
                        bandera=false;
                    }
                    if(!$("#mail").val())
                    {
                        alert("Faltan por llenar  mail");
                        bandera=false;
                    }
                    if(!$("#msg").val())
                    {
                        alert("Faltan por llenar  message");
                        bandera=false;
                    }

                    return bandera;*/
                }
                function agregaError(campo){
                    errores.push(`Falta agregar el ${campo}`);
                }
            });

        </script>

</body>

</html>